<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Christophe Benavent">
<meta name="dcterms.date" content="2023-01-29">

<title>Musiques : Musiques : histoire de genres</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="script04_crossgenre_files/libs/clipboard/clipboard.min.js"></script>
<script src="script04_crossgenre_files/libs/quarto-html/quarto.js"></script>
<script src="script04_crossgenre_files/libs/quarto-html/popper.min.js"></script>
<script src="script04_crossgenre_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="script04_crossgenre_files/libs/quarto-html/anchor.min.js"></script>
<link href="script04_crossgenre_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="script04_crossgenre_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="script04_crossgenre_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="script04_crossgenre_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="script04_crossgenre_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Musiques : Musiques : histoire de genres</h1>
            <p class="subtitle lead">Dégenrer les genres</p>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      Christophe Benavent 
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Paris Dauphine - PSL /Acss
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 29, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#genres-les-uns-envers-les-autres" id="toc-genres-les-uns-envers-les-autres" class="nav-link active" data-scroll-target="#genres-les-uns-envers-les-autres"><span class="toc-section-number">1</span>  Genres, les uns envers les autres</a></li>
  <li><a href="#transitions-de-genre" id="toc-transitions-de-genre" class="nav-link" data-scroll-target="#transitions-de-genre"><span class="toc-section-number">2</span>  Transitions de genre</a></li>
  <li><a href="#analyse" id="toc-analyse" class="nav-link" data-scroll-target="#analyse"><span class="toc-section-number">3</span>  Analyse</a>
  <ul class="collapse">
  <li><a href="#le-rock" id="toc-le-rock" class="nav-link" data-scroll-target="#le-rock"><span class="toc-section-number">3.1</span>  Le Rock</a></li>
  <li><a href="#le-jazz" id="toc-le-jazz" class="nav-link" data-scroll-target="#le-jazz"><span class="toc-section-number">3.2</span>  Le Jazz</a></li>
  <li><a href="#lelectronique" id="toc-lelectronique" class="nav-link" data-scroll-target="#lelectronique"><span class="toc-section-number">3.3</span>  L’Electronique</a></li>
  <li><a href="#la-pop" id="toc-la-pop" class="nav-link" data-scroll-target="#la-pop"><span class="toc-section-number">3.4</span>  La Pop</a></li>
  <li><a href="#le-classique" id="toc-le-classique" class="nav-link" data-scroll-target="#le-classique"><span class="toc-section-number">3.5</span>  Le Classique</a></li>
  </ul></li>
  <li><a href="#analyse-multivariée-temporelle" id="toc-analyse-multivariée-temporelle" class="nav-link" data-scroll-target="#analyse-multivariée-temporelle"><span class="toc-section-number">4</span>  Analyse multivariée temporelle</a>
  <ul class="collapse">
  <li><a href="#analyse-procustééenne" id="toc-analyse-procustééenne" class="nav-link" data-scroll-target="#analyse-procustééenne"><span class="toc-section-number">4.1</span>  Analyse procustééenne</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="toc-section-number">5</span>  Conclusion</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>La production musicale se déploie dans les boutiques par une organisation qui privilégie le genre, ou le style, puis souvent par artiste. Ce sont les catégories qui organisent le marché, du moins la manière dont il se présente spatialement visuellement, psychologiquement aux consommateurs. Ces catégories peuvent avoir différents niveaux de granularité ( les styles se comptent par centaines, les genres une vingtaine) et peuvent se croiser. Certains album de Miles Davis furent aussi Jazz que Funck ou rock. Il y a de bonne chance que l’étiquetage soit fidèle.</p>
<p>Ce système de codage permet de se pencher sur la définition de ce qu’est un genre. Dans une optique distributionnelle le genre se définit dans son rapport aux autres. C’est ce que nous voulons étudier. Comment les genres évoluent dans leur rapports aux autres genres.</p>
<section id="genres-les-uns-envers-les-autres" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Genres, les uns envers les autres</h1>
<p>Le sens n’est pas dans les symboles mais dans le rapport des signes. Au cours du temps, le genre <em>Rock</em> peut changer de sens, parce qu’il entretient des familiarités avec les autres genres qui peuvent varier avec le temps.</p>
<p>C’est ce que nous voulons mesurer : à chaque période quels sont les genres les plus proches d’un genre particulier. L’idée va être pour chaque genre, chaque cible, de compter la fréquence de cooccurrences d’autres genres. La procédure est de sélectionner dans le corpus les éditions qui sont taguées par le genre x, et de compter la fréquence des autres genres pour chaque année. On va donc construire une sorte de spectre catégoriel qui peut caractériser l’évolution qualitative de chacun des genres.</p>
<p>Rappelons juste l’évolution quantitative calculée dans la <a href="">note précédente</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/genre05.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 1 : évolution du nombre d’éditions par genre</figcaption><p></p>
</figure>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#tools</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#packages</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(word2vec)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(doc2vec)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastcluster) <span class="co">#pour aller plus vite en hc</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Rtsne)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(smacof)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># pour ggplot</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>breaks <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1900</span>, <span class="dv">1910</span>, <span class="dv">1920</span>,<span class="dv">1930</span>,<span class="dv">1940</span>,<span class="dv">1950</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1960</span>,<span class="dv">1970</span>,<span class="dv">1980</span>,<span class="dv">1990</span>,<span class="dv">2000</span>,<span class="dv">2010</span>,<span class="dv">2020</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>breaks2 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1945</span>, <span class="dv">1950</span>, <span class="dv">1955</span>,<span class="dv">1960</span>,<span class="dv">1965</span>,<span class="dv">1970</span>,<span class="dv">1975</span>,<span class="dv">1980</span>,<span class="dv">1985</span>,<span class="dv">1990</span>,<span class="dv">1995</span>,<span class="dv">2000</span>,<span class="dv">2005</span>, <span class="dv">2010</span>, <span class="dv">2015</span>,<span class="dv">2020</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co">#  les couleurs des genres . Y-a-il une conventions ?</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>col_genre<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"blue4"</span>,<span class="st">"coral4"</span>,<span class="st">"skyblue"</span>,<span class="st">"purple"</span> , <span class="st">"darkturquoise"</span>,<span class="st">"darkgreen"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"orange1"</span>,<span class="st">"orange3"</span>,<span class="st">"dodgerblue4"</span>,<span class="st">"darkred"</span>,<span class="st">"black"</span>,<span class="st">"deeppink2"</span>,<span class="st">"limegreen"</span>,<span class="st">"red3"</span>,<span class="st">"grey"</span>)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>                    </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>col_format<span class="ot">=</span><span class="fu">c</span>(<span class="st">"brown4"</span>,  <span class="st">"skyblue1"</span>, <span class="st">"skyblue2"</span>, <span class="st">"skyblue3"</span>,<span class="st">"grey"</span>,<span class="st">"cyan"</span>,  <span class="st">"grey30"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>release<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./dataarchives/release_work.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span> release <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,year, version, <span class="dv">10</span><span class="sc">:</span><span class="dv">24</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">1950</span>]<span class="ot">&lt;-</span><span class="st">"1940"</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">1949</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span> <span class="dv">1960</span> ]<span class="ot">&lt;-</span><span class="st">"1950"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">1959</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span> <span class="dv">1970</span>]<span class="ot">&lt;-</span><span class="st">"1960"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">1969</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">1980</span>]<span class="ot">&lt;-</span><span class="st">"1970"</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">1979</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">1990</span>]<span class="ot">&lt;-</span><span class="st">"1980"</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">1989</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">2000</span>]<span class="ot">&lt;-</span><span class="st">"1990"</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">1999</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">2010</span>]<span class="ot">&lt;-</span><span class="st">"2000"</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">2009</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">2020</span>]<span class="ot">&lt;-</span><span class="st">"2010"</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>year2[foo<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">2019</span> <span class="sc">&amp;</span> foo<span class="sc">$</span>year<span class="sc">&lt;</span><span class="dv">2030</span>]<span class="ot">&lt;-</span><span class="st">"2020"</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>foo1<span class="ot">&lt;-</span>foo <span class="sc">%&gt;%</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year) <span class="sc">&amp;</span> version<span class="sc">==</span><span class="st">"Original"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>year2, <span class="sc">-</span>version) <span class="sc">%&gt;%</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">&gt;</span><span class="dv">1950</span> <span class="sc">&amp;</span> year<span class="sc">&lt;</span><span class="dv">2023</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="transitions-de-genre" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Transitions de genre</h1>
<p>Les transitions de genres sont une bonne manière de saisir le genre. Vers qui porte-t-elles ? la méthode consiste juste à calculer la probabilité qu’un album, tagué par un genre, soit aussi tagué par un autre genre, bref, c’est une probabilité conditionnelle. Quelles sont les chance qu’un album de rock soit aussi du blues par exemple ?</p>
<p>Un petit point méthodologique doit être rappelé : la taxinomie de <em>Discogs</em>, s’est constituée progressivement. <a href="https://fr.wikipedia.org/wiki/Discogs">voir</a> ainsi <a href="https://support.discogs.com/hc/en-us/articles/360005055213-Database-Guidelines-9-Genres-Styles">que</a>. Elle n’est pas exclusive, une même oeuvre peut être étiquetée par plusieurs genres. C’est sur cette propriété que nous nous appuyons dans l’analyse.</p>
<p>On ne retient dans l’analyse que les œuvres originales, les rééditions plus tardives, pouvant faire apparaître d’autres genres ultérieurement. On saisit bien le sens du genre au moment où l’œuvre est publiée. Ceci dit c’est un point à discuter, les étiquettes étant données rétrospectivement, sans qu’on ne connaisse la date d’étiquetage. Un risque existe qu’on qualifie aujourd’hui un genre, alors qu’il n’existait pas.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>X_genre<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"Blues"</span>, <span class="st">"BrassMilitary"</span>, <span class="st">"Childrens"</span>,<span class="st">"Classical"</span>,<span class="st">"Electronic"</span>, <span class="st">"FolkWorldCountry"</span>,<span class="st">"FunkSoul"</span> ,<span class="st">"HipHop"</span> ,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">"Jazz"</span>,<span class="st">"Latin"</span>,<span class="st">"NonMusic"</span>,<span class="st">"Pop"</span>,<span class="st">"Reggae"</span>,<span class="st">"Rock"</span>,<span class="st">"StageScreen"</span>) </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Vector with Columns</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>columns <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"year"</span>,<span class="st">"genre"</span>,<span class="st">"d"</span>, <span class="st">"p"</span>) </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a Empty DataFrame with 0 rows and n columns</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="dv">0</span>, <span class="at">ncol =</span> <span class="fu">length</span>(columns))) </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign column names</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(foo) <span class="ot">=</span> columns</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># print DataFrame</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(foo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] year  genre d     p    
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (G  <span class="cf">in</span> X_genre){          </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>foo2<span class="ot">&lt;-</span>foo1 <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_</span>(<span class="fu">paste</span>(G, <span class="st">"=="</span>, <span class="dv">1</span>))<span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(id, year), <span class="at">names_to=</span><span class="st">"genre"</span>, <span class="at">values_to=</span><span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, genre) <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">sum</span>(value))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>foo3<span class="ot">&lt;-</span>foo2<span class="sc">%&gt;%</span> <span class="fu">filter</span>(genre<span class="sc">==</span>G)<span class="sc">%&gt;%</span> </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>genre) <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="sc">!!</span><span class="at">G :=</span> n) </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>foo4<span class="ot">&lt;-</span>foo2 <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(foo3)<span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_</span>(<span class="fu">paste</span>(<span class="st">"d=n/"</span>,G))<span class="sc">%&gt;%</span> </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">d=</span><span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="sc">-</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre <span class="sc">!=</span>G) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(genre)<span class="sc">%&gt;%</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p=</span><span class="fu">rollapply</span>(d, <span class="dv">3</span>, mean, <span class="at">fill=</span><span class="dv">0</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(foo4, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span><span class="fu">reorder</span>(genre, p)))<span class="sc">+</span> </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> p))<span class="sc">+</span> </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span><span class="st">"skyblue1"</span>, <span class="at">mid =</span> <span class="st">"seashell"</span>, <span class="at">high =</span> <span class="st">"deeppink2"</span>, <span class="at">midpoint=</span>.<span class="dv">1</span>,<span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">7</span>), <span class="at">name =</span> <span class="st">"Probabilité"</span>) <span class="sc">+</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span> </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Un nouvel album de"</span>,G, <span class="st">" peut aussi être catégorisé comme..."</span>), <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> breaks2)</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename=</span><span class="fu">paste0</span>(<span class="st">"./images/genre10_"</span>, G , <span class="st">".jpeg"</span>), <span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">18</span>, <span class="at">units =</span> <span class="st">"cm"</span>)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>foo5<span class="ot">&lt;-</span>foo4<span class="sc">%&gt;%</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">paste</span>(<span class="st">"target=="</span>,G))</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span><span class="fu">rbind</span>(foo,foo5)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analyse" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Analyse</h1>
<section id="le-rock" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="le-rock"><span class="header-section-number">3.1</span> Le Rock</h2>
<p>C’est assez spectaculaire, si dans les années 50 il se confond avec le blues, c’est à la pop qu’il s’identifie. Par la suite, il n’est plus attaché à aucun genre, il s’autonomise en quelque sorte conquiert son indépendance.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/genre10_Rock.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 2 : le cas du Rock</figcaption><p></p>
</figure>
</div>
</section>
<section id="le-jazz" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="le-jazz"><span class="header-section-number">3.2</span> Le Jazz</h2>
<p>La tradition du Jazz l’attachait à la pop jusqu’au début des années 70. Il devient plus funk au milieu des années 70 ainsi que rock mais en demi-teinte. Aujourd’hui, il semble avoir retrouvé une connivence avec le Rock, mais surtout se teinte de musique électronique.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/genre10_Jazz.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 3 : le cas du Jazz</figcaption><p></p>
</figure>
</div>
</section>
<section id="lelectronique" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="lelectronique"><span class="header-section-number">3.3</span> L’Electronique</h2>
<p>Rappel de la définition :</p>
<p>La musique électronique est une musique qui utilise des instruments de musique électroniques et une technologie musicale électronique dans sa production, un musicien électronique étant un musicien qui compose et/ou interprète cette musique. En général, on peut faire une distinction entre le son produit par des moyens électromécaniques et celui produit par la technologie électronique. Parmi les exemples de dispositifs électromécaniques de production de sons, on peut citer le telharmonium, l’orgue Hammond et la guitare électrique. La production de sons purement électroniques peut être réalisée à l’aide d’appareils tels que le thérémine, le synthétiseur de sons et l’ordinateur. (Fourni par Wikipédia sous Creative Commons Attribution CC-BY-SA 4.0 -Traduit avec www.DeepL.com/Translator)</p>
<p>Un curieux destin qui confond le genre avec le classique dans les années 50, s’associe dans les années 60 et 70 au jazz, puis au funk (merci Parliament !) et trouve enfin son autonomie teinté de pop et de rock dans la période contemporaine.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/genre10_Jazz.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 4 : le cas de l’éléctronique</figcaption><p></p>
</figure>
</div>
</section>
<section id="la-pop" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="la-pop"><span class="header-section-number">3.4</span> La Pop</h2>
<p>La pop est un cas paradigmatique. La rupture d’avec le jazz est consommée au cours des années 60 au profit du rock que rééquilibre au cours des années 80 les musiques électroniques.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/genre10_pop.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 4 : le cas de la pop</figcaption><p></p>
</figure>
</div>
</section>
<section id="le-classique" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="le-classique"><span class="header-section-number">3.5</span> Le Classique</h2>
<p>Si le classique a donné naissance à la musique électronique, la production contemporaine se régénère avec l’électronique. Joli pied de nez!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/genre10_Classical.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 5 : le cas du classique</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="analyse-multivariée-temporelle" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Analyse multivariée temporelle</h1>
<p>Puisque nous disposons de ces données, genre par genre, une approche plus configurationnelle peut être envisagée pour mesurer les dérives dans le systèmes de relations.</p>
<p>Pour chaque année on dispose d’un tableau qui concatène les genres cibles, et les genres attracteurs. On souhaite présenter les similarités entre les genres cible à partir des profils de genre attracteurs. Autrement dit deux groupes cibles seront similaires s’ils sont co-tagués par les mêmes genres. Les valeurs représentent l’attraction du style de la ligne i par celui de la colonne j ( la proportion de i qui est aussi taguée j ), un genre s’attire lui-même , on lui donne une valeur de 1.</p>
<p>examinons ceci en détail, on examine le cas de 2020.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>foo1<span class="ot">&lt;-</span>foo <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">target=</span><span class="dv">5</span>)<span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">target=</span><span class="fu">str_remove</span>(target, <span class="st">"target== "</span>))<span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>p)<span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">d=</span>d)<span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="fu">c</span>(year,target), <span class="at">names_from =</span> <span class="st">"genre"</span>, <span class="at">values_from =</span> <span class="st">"d"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">replace</span>(<span class="fu">is.na</span>(.), <span class="dv">1</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>i<span class="ot">=</span><span class="dv">2000</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>foo2<span class="ot">&lt;-</span>foo1 <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span>i)<span class="sc">%&gt;%</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="at">var=</span><span class="st">"target"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>year)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>foo2[<span class="dv">2</span><span class="sc">:</span><span class="dv">7</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                 BrassMilitary    Childrens   Classical Electronic
BrassMilitary     1.0000000000 0.0285714286 0.142857143 0.08571429
Childrens         0.0057803468 1.0000000000 0.069364162 0.06936416
Classical         0.0042517007 0.0102040816 1.000000000 0.07227891
Electronic        0.0001831837 0.0007327349 0.005190206 1.00000000
FolkWorldCountry  0.0060913706 0.0071065990 0.029103215 0.07241963
FunkSoul          0.0006939625 0.0013879251 0.006245663 0.24427481
                 FolkWorldCountry
BrassMilitary          0.51428571
Childrens              0.12138728
Classical              0.07312925
Electronic             0.01306711
FolkWorldCountry       1.00000000
FunkSoul               0.04857738</code></pre>
</div>
</div>
<p>On notera au passage que la somme de chaque ligne ( - 1 si on enlève l’auto-attraction) mesure la tendance d’un style à être complété par d’autres étiquettes, en quelque sorte sa dépendance aux autres genres pour être qualifié. En colonne c’est la capacité à attirer d’autres styles( -1) et donc à les qualifier et à exercer une influence.</p>
<p>Profitons en pour en faire la synthèse :</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dependance<span class="ot">&lt;-</span> foo2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">dependance=</span> <span class="fu">rowSums</span>(.)<span class="sc">-</span><span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dependance) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"genre"</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>influence<span class="ot">&lt;-</span> foo2 <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise_all</span>(<span class="fu">funs</span>(sum))<span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()<span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()<span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">influence=</span><span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">influence=</span>influence<span class="dv">-1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"genre"</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>clout<span class="ot">&lt;-</span> <span class="fu">merge</span>(dependance, influence)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(clout, <span class="fu">aes</span>(<span class="at">x=</span> dependance, <span class="at">y=</span>influence))<span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label=</span>genre))<span class="sc">+</span> </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="fl">1.7</span>)<span class="sc">+</span><span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"dépendance"</span>, <span class="at">y=</span><span class="st">" Influence"</span>)<span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15c-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Après cette analyse synthétique, on peut suhaiter s’engager dans une analyse plus holistique. En utilisant une analyse de type MDS.</p>
<p>Les distance entre les genres cibles, ceux dont on veut connaitre à tel point ils sont précisés par les autres genre, peut être calculé par une distance de canberra qui est une variation de la distance de manhantan mais se prete bien à nos variable qui ne peuvent prendre de valeurs qu’entre 0 et 1. 1 Signifie que pour les unités taguée X sont aussi taguée Y. X est le max de Y. La similarité absolue.</p>
<p>Pour le modèle MDS, on choisit un modèle ordinal, plus robuste. On en donne la configuration, mais aussi l’ajustement.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>foo3<span class="ot">&lt;-</span>foo2<span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var=</span><span class="st">"genre"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genre)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>mds <span class="ot">&lt;-</span> foo2 <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dist</span>(<span class="at">method=</span><span class="st">"canberra"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mds</span>( <span class="at">type =</span> <span class="st">"ordinal"</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>mdscoord<span class="ot">&lt;-</span>mds<span class="sc">$</span>conf <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(foo3)<span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year=</span> i)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>foo4<span class="ot">&lt;-</span><span class="fu">rbind</span>(foo4,mdscoord)  <span class="co">#cumul fichiers</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mdscoord, <span class="fu">aes</span>(<span class="at">x=</span>D1, <span class="at">y=</span>D2, <span class="at">label=</span> genre))<span class="sc">+</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label=</span>genre))<span class="sc">+</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="fu">paste</span>(i))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15d-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mds, <span class="at">plot.type =</span> <span class="st">"Shepard"</span>, <span class="at">main =</span> <span class="st">"Shepard Diagram (Ordinal Transformation)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15d-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>ON work in progress à partir d’ici.</p>
<p>Un mds avec une fenêtre glissante mais d’abord de manière séquentielle.</p>
<p>Traiter la question de l’asymétrie</p>
<p>on anime ensuite</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#mise en forme des données</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#attention avant 1978 il n'y a pas de hip hop</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#intitiation</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Vector with Columns</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>columns <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"V1"</span>,<span class="st">"V2"</span>,<span class="st">"genre"</span>, <span class="st">"year"</span>) </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a Empty DataFrame with 0 rows and n columns</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>foo4 <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="dv">0</span>, <span class="at">ncol =</span> <span class="fu">length</span>(columns))) </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign column names</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(foo4) <span class="ot">=</span> columns</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">#loop</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1982</span><span class="sc">:</span><span class="dv">2021</span>){</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co">#i=2020  </span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>foo2<span class="ot">&lt;-</span>foo1 <span class="sc">%&gt;%</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span>i)<span class="sc">%&gt;%</span> </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="at">var=</span><span class="st">"target"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>year)</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>foo3<span class="ot">&lt;-</span>foo2<span class="sc">%&gt;%</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var=</span><span class="st">"genre"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genre)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>mds <span class="ot">&lt;-</span> foo2 <span class="sc">%&gt;%</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dist</span>(<span class="at">method=</span><span class="st">"canberra"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mds</span>( <span class="at">type =</span> <span class="st">"ordinal"</span>)</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>mdscoord<span class="ot">&lt;-</span>mds<span class="sc">$</span>conf <span class="sc">%&gt;%</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(foo3)<span class="sc">%&gt;%</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year=</span> i)</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>foo4<span class="ot">&lt;-</span><span class="fu">rbind</span>(foo4,mdscoord)  <span class="co">#cumul fichiers</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mdscoord, <span class="fu">aes</span>(<span class="at">x=</span>D1, <span class="at">y=</span>D2, <span class="at">label=</span> genre))<span class="sc">+</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label=</span>genre))<span class="sc">+</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="fu">paste</span>(i))</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mds, <span class="at">plot.type =</span> <span class="st">"Shepard"</span>, <span class="at">main =</span> <span class="st">"Shepard Diagram (Ordinal Transformation)"</span>)</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-11.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-12.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-13.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-14.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-15.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-16.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-17.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-18.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-19.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-20.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-21.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-22.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-23.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-24.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-25.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-26.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-27.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-28.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-29.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-30.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-31.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-32.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-33.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-34.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-35.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-36.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-37.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-38.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-39.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-40.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#carte animée</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>gan<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo4, <span class="fu">aes</span>(D1, D2, <span class="at">label =</span> genre)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">color=</span>genre)) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values=</span>col_genre)<span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Here comes the gganimate specific bits</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Year: {frame_time}'</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_time</span>(year) <span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">shadow_wake</span>(<span class="at">wake_length =</span> <span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>)<span class="sc">+</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ease_aes</span>(<span class="st">'cubic-in-out'</span>) </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">animate</span>(gan,  <span class="at">duration =</span> <span class="dv">76</span>,  <span class="at">fps  =</span>  <span class="dv">5</span>, <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>(<span class="at">loop =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="script04_crossgenre_files/figure-html/15-1.gif" class="img-fluid"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anim_save</span>(<span class="st">"./images/mds_dyn.gif"</span>,  <span class="at">animation =</span> <span class="fu">last_animation</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="analyse-procustééenne" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="analyse-procustééenne"><span class="header-section-number">4.1</span> Analyse procustééenne</h2>
<p>Comparer les solutions dans le temps est rendu difficile par le fait que les espaces ne sont pas équivalents, même si les configuations sont identiques. L’analyse procustééenne vise à ramené la configuration d’une cible à celle d’un test par des opérations de dilatation, de translations, et de rotations. L’idée est amener deux configurations, deux formes, dans l’espace le plus proche.</p>
<p>Pour l’anecdote et l’exemple, c’est par ce type de méthode qu’on compare des crânes de périodes ou de région différentes en anthropologie, pour apprécier leurs différences dans un même repère. On comprend que la méthode permet de se concentrer sur les différences entre la configuration test et la configuration cible indépendamment des espaces dans lesquels ils ont été projetés. Ce sont les écarts qui deviennent intéressants car ils traduisent des dérives de signification.</p>
<p>La stratégie d’analyse va donc êtres de faire cette comparaison, de manière glissante, en calculant la dérive de la configuration à t, par rapport à la configuration ajustée pour la comparaison à t+1.</p>
<p>’idée va être d’opérer cette transformation de manière glissante en prenant pour test, la configuration précédente, telle qu’elle a été ramenée à la cible.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Vector with Columns</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>columns <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"D1"</span>,<span class="st">"D2"</span>,<span class="st">"D1b"</span>, <span class="st">"D2B"</span>, <span class="st">"year"</span>) </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a Empty DataFrame with 0 rows and n columns</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">nrow =</span> <span class="dv">0</span>, <span class="at">ncol =</span> <span class="fu">length</span>(columns))) </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign column names</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(foo) <span class="ot">=</span> columns</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># print DataFrame</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(foo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] D1   D2   D1b  D2B  year
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">## simple example</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1980</span><span class="sc">:</span><span class="dv">2020</span>){</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  foo2a<span class="ot">&lt;-</span>foo1 <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span>i)<span class="sc">%&gt;%</span> </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="at">var=</span><span class="st">"target"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>year)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>foo2b<span class="ot">&lt;-</span>foo1 <span class="sc">%&gt;%</span> </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span>i<span class="sc">+</span><span class="dv">1</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="at">var=</span><span class="st">"target"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>year)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>resa<span class="ot">&lt;-</span> mds <span class="ot">&lt;-</span> foo2a <span class="sc">%&gt;%</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dist</span>()  <span class="sc">%&gt;%</span>          </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mds</span>( <span class="at">type =</span> <span class="st">"ordinal"</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>resb<span class="ot">&lt;-</span> mds <span class="ot">&lt;-</span> foo2b <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dist</span>()  <span class="sc">%&gt;%</span>          </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mds</span>( <span class="at">type =</span> <span class="st">"ordinal"</span>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span><span class="fu">Procrustes</span>(resa<span class="sc">$</span>conf, resb<span class="sc">$</span>conf)</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>conf_a<span class="ot">&lt;-</span>fit<span class="sc">$</span>X <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>conf_b<span class="ot">&lt;-</span>fit<span class="sc">$</span>Yhat<span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>Procust<span class="ot">&lt;-</span><span class="fu">cbind</span>(conf_a,conf_b) <span class="sc">%&gt;%</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">D1b=</span><span class="dv">3</span>,<span class="at">D2b=</span><span class="dv">4</span>)<span class="sc">%&gt;%</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year=</span>i)</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span> <span class="fu">rbind</span>(foo,Procust)</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Procust, <span class="fu">aes</span>(<span class="at">x=</span>D1,<span class="at">y=</span>D2))<span class="sc">+</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label=</span><span class="fu">row.names</span>(Procust)))<span class="sc">+</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>D1, <span class="at">y=</span>D2, <span class="at">xend=</span>D1b, <span class="at">yend=</span>D2b), </span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>               <span class="at">arrow=</span><span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>)), <span class="at">size=</span>.<span class="dv">5</span>, </span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>               <span class="at">color=</span><span class="st">"grey"</span>)</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Le résultat :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="filenamehere.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 6 : le positionnement dynamique des genres -MDS</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="conclusion" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Conclusion</h1>
<p>On ne présente pas tous les cas, le lecteur curieux ira chercher les images des autres genres <a href="">ici</a></p>
<p>d’autres méthodes ? . CA, pca, unfoldinf vectr drift ?</p>
<p>C’est une première approche qu’on va systématiser avec les styles.</p>
<p>une pca et une pta ? https://rfrelat.github.io/Multivariate2D3D.html</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>