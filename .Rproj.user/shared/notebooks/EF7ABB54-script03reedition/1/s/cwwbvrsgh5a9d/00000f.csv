"0",""
"0","release_genre<-read_csv(""dataarchives/release_genre.csv"") %>%"
"0","  rename(id=release_id) %>% "
"0","  mutate(genre=str_replace_all(genre,""[:punct:]"",""""),"
"0","         genre=str_replace_all(genre,"" "","""")"
"0","         )"
"2","[1mRows: [22m[34m20412605[39m [1mColumns: [22m[34m2[39m"
"2","[36m--[39m [1mColumn specification[22m [36m-----------------------------------------------------------------------------------------------------------------------------------------[39m
[1mDelimiter:[22m "",""
[31mchr[39m (1): genre
[32mdbl[39m (1): release_id"
"2","
[36mi[39m Use `spec()` to retrieve the full column specification for this data.
[36mi[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","#pr√©paration des donn√©es"
"0","foo<- release_genre %>%"
"0","  group_by(id)%>%"
"0","  summarise(genre= paste0(genre, collapse = "",""))"
"0",""
"0","rm(release_genre)"
"0","gc()"
"1","      "
"1","      used"
"1","   (Mb)"
"1"," gc trigger"
"1","   (Mb)"
"1","  max used"
"1","   (Mb)"
"1","
Ncells"
"1","   7566621"
"1","  404.2"
"1","   82244756"
"1"," 4392.4"
"1"," 102805944"
"1"," 5490.5"
"1","
Vcells"
"1"," 173765801"
"1"," 1325.8"
"1","  497480931"
"1"," 3795.5"
"1"," 566381564"
"1"," 4321.2"
"1","
"
"0","foo1<-  as.data.frame(str_split_fixed(foo$genre, "","", 15))"
"0",""
"0","foo2<-cbind(foo, foo1) %>% "
"0","  select(-genre) %>% "
"0","  pivot_longer(-c(id), names_to=""Value"",values_to=""genre"") %>%"
"0","  filter(genre!="""")%>%"
"0","  pivot_wider(c(id), names_from=""genre"", values_from = ""Value"")%>%"
"0","  mutate(across(2:16, ~ifelse(is.na(.),0,1))) "
"0",""
"0",""
"0","release<-release %>% "
"0","  left_join(foo2)"
"2","Joining, by = ""id"""
"0","foo<-release%>% "
"0","  select(id,date, 9:23) %>%"
"0","  pivot_longer(-c(id,date), names_to = ""genre"", values_to = ""value"")%>%"
"0","  group_by(date,genre)%>%"
"0","  summarise(n=sum(value))"
"2","`summarise()` has grouped output by 'date'. You can override using the `.groups` argument."
"0","ggplot(foo,aes(x=date, y=n, group=genre))+"
"0","    geom_line(stat=""identity"", aes(color=genre), size=1.2)+"
"0","    labs(title=""Nombre d'√©ditions par ann√©e et par genre"","
"0","         x= NULL, y= NULL )+"
"0","    scale_color_manual(values=col_genre)+"
"0","   scale_x_continuous(breaks = breaks, limits = c(1940, 2020))+"
"0","   scale_y_continuous(label=comma)"
